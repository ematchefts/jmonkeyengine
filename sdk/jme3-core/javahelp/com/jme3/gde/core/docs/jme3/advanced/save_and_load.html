<h1><a>Saving and Loading Games</a></h1><div><p>You can save and load scenes and individual Nodes using com.jme3.export.binary.BinaryExporter and com.jme3.export.binary.BinaryImporter. Use standard Java serialization to load game data or use the Savable interface. The jMonkeyEngine binary file format is .j3o. You can open, view, and edit .j3o files in the jMonkeyEngine <a href="/com/jme3/gde/core/docs/jme3/advanced/sdk.html">SDK</a>.</p></div><h2><a>Sample Code</a></h2><div><ul><li><div><object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://code.google.com/p/jmonkeyengine/source/browse/trunk/engine/src/test/jme3test/tools/TestSaveGame.java"><param name="text" value="<html><u>TestSaveGame.java</u></html>"><param name="textColor" value="blue"></object></div></li></ul></div><h2><a>Saving a Node</a></h2><div><pre>  @Override
  public void destroy&#40;&#41; &#123;
    System.getProperty&#40;&quot;user.home&quot;&#41;;
    BinaryExporter exporter = BinaryExporter.getInstance&#40;&#41;;
    File&#40;userHome+&quot;/somefile.j3o&quot;&#41;;
    try &#123;
      exporter.save&#40;rootNode, file&#41;;
    &#125; catch &#40;IOException ex&#41; &#123;
      Logger.getLogger&#40;Main.class.getName&#40;&#41;&#41;.log&#40;Level.SEVERE, &quot;Failed to save node!&quot;, ex&#41;;
    &#125;
    super.destroy&#40;&#41;;
  &#125;</pre></div><h2><a>Loading a Node</a></h2><div><pre>  @Override
  public void simpleInitApp&#40;&#41; &#123;
    System.getProperty&#40;&quot;user.home&quot;&#41;;
    BinaryImporter importer = BinaryImporter.getInstance&#40;&#41;;
    importer.setAssetManager&#40;assetManager&#41;;
    File&#40;userHome+&quot;/somefile.j3o&quot;&#41;;
    try &#123;
      Node loadedNode = &#40;Node&#41;importer.load&#40;file&#41;;
      loadedNode.setName&#40;&quot;loaded node&quot;&#41;;
      rootNode.attachChild&#40;loadedNode&#41;;
    &#125; catch &#40;IOException ex&#41; &#123;
      Logger.getLogger&#40;Main.class.getName&#40;&#41;&#41;.log&#40;Level.SEVERE, &quot;No saved node loaded.&quot;, ex&#41;;
    &#125;
    ...
&nbsp;</pre></div><h2><a>Custom Savable</a></h2><div><p>If you have a custom class that you want to save or assign using <code>setUserData()</code>, the class must implement the <code>com.jme3.export.Savable</code> interface.</p><pre>import com.jme3.export.InputCapsule;
import com.jme3.export.JmeExporter;
import com.jme3.export.JmeImporter;
import com.jme3.export.OutputCapsule;
import com.jme3.export.Savable;
import com.jme3.material.Material;
import java.io.IOException;
&nbsp;
public class MyCustomClass implements Savable &#123;
    private int      someIntValue;
    private float    someFloatValue;
    private Material someJmeObject;
&nbsp;
    ...
    // your other code...
    ...
&nbsp;
    public void write&#40;JmeExporter ex&#41; throws IOException &#123;
        OutputCapsule capsule = ex.getCapsule&#40;this&#41;;
        capsule.write&#40;someIntValue,   &quot;someIntValue&quot;,   1&#41;;
        capsule.write&#40;someFloatValue, &quot;someFloatValue&quot;, 0f&#41;;
        capsule.write&#40;someJmeObject,  &quot;someJmeObject&quot;,  new Material&#40;&#41;&#41;;
    &#125;
&nbsp;
    public void read&#40;JmeImporter im&#41; throws IOException &#123;
        InputCapsule capsule = im.getCapsule&#40;this&#41;;
        someIntValue   = capsule.readInt&#40;    &quot;someIntValue&quot;,   1&#41;;
        someFloatValue = capsule.readFloat&#40;  &quot;someFloatValue&quot;, 0f&#41;;
        someJmeObject  = capsule.readSavable&#40;&quot;someJmeObject&quot;,  new Material&#40;&#41;&#41;;
    &#125;
&#125;</pre>

<p>
For each class field that you want to save and load,
</p>
<ul>
<li><div> Add one line that <code>write()</code>s the data to the JmeExport output capsule. </div>
<ul>
<li><div> Specify the variable to save, give it String name (can be the same as the variable name), and specify a default value.</div>
</li>
</ul>
</li>
<li><div> Add one line that <code>read…()</code>s the data to the JmeImport input capsule. </div>
<ul>
<li><div> On the left side of the assignment, specify the class field that you are restoring</div>
</li>
<li><div> One the right side, use the appropriate <code>capsule.read…()</code> method for the data type. Specify the String name of the variable (must be the same ones that you used in the <code>write() method</code>) and a default value.</div>
</li>
</ul>
</li>
</ul>

</div>
<p><em><a href="http://jmonkeyengine.org/wiki/doku.php/jme3:advanced:save_and_load?do=export_xhtmlbody">view online version</a></em></p>